{% extends "template.html" %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Creative - Bootstrap 3 Responsive Admin Template">
    <meta name="author" content="GeeksLabs">
    <meta name="keyword" content="Creative, Dashboard, Admin, Template, Theme, Bootstrap, Responsive, Retina, Minimal">
  <body>
  	  {% block content %}
  	  <head>
  	  <link href="/static/css/map_manage.css" rel="stylesheet">
  	  <script>
	  	function deleteRobot(key){
	  		if(confirm("정말 삭제하시겠습니까?")){
		  	    $.ajax({
		  	      type: "POST",
		  	      url: "/map_delete/",
		  	      dataType: 'html',
		  	      data: JSON.stringify({ "key": key})
		  	    })
		  	    .done(function( data ) { // check why I use done
		  	    	location.reload()
		  	    });
	  		}
	  	};
  	  </script>
  	  </head>
  	  	<h3>로봇 관리</h3>
  	  	<div class="row" id="map_manage">
  	  		<table class="table">
  	  			<tr>
	  	  			<th>로봇이름</th>
	  	  			<th>시리얼</th>
	  	  			<th>삭제</th>
  	  			</tr>
  	  			{% for r in result %}
  	  			<tr>
  	  				<td>{{r.name}}</td>
  	  				<td>{{r.serial}}</td>
  	  				<td><a class="btn btn-primary delete_btn" onclick="deleteMap('{{r.key}}')">삭제</a></td>
  	  			</tr>
  	  			{% endfor %}
  	  		</table>
		</div>
		<div class="add_div">
			<a class="btn btn btn-primary" href="../robot_add">추가하기</a>
		</div>
	  {% endblock %}
  </body>
</html>
